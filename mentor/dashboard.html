<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edunova â€“ Mentor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/dashboard.css">
  <link rel="icon" href="../images/logo.png">
</head>

<body>

<!-- TOPBAR -->
<div class="topbar">
  <button class="hamburger" onclick="toggleSidebar()">â˜°</button>

  <div class="brand">
    <img src="../images/logo.png" class="logo" alt="Edunova">
    <span>Edunova â€“ Mentor</span>
  </div>

  <button class="logout-btn" onclick="logout()">Logout</button>
</div>

<div class="overlay" id="overlay" onclick="closeSidebar()"></div>

<div class="layout">

  <!-- SIDEBAR -->
  <div class="sidebar" id="sidebar">
    <a class="active" onclick="showSection('dashboard')">Dashboard</a>
    <a onclick="showSection('students')">My Students</a>
    <a onclick="showSection('createStudent')">Create Student</a>
    <a onclick="showSection('uploadStudents')">Upload Students</a>
    <a href="attendance-verification.html">Attendance Verification</a>
    <a href="mark-verification.html">Mark Verification</a>
    <a onclick="showSection('results')">Result Analysis</a>
    <a onclick="showSection('profileCard')">Profile</a>
  </div>

  <!-- MAIN -->
  <div class="main">

    <!-- DASHBOARD -->
    <div id="dashboard" class="card">
      <h3>Welcome Mentor ðŸ‘‹</h3>
      <p>Total Students: <b id="studentCount">0</b></p>
    </div>

    <!-- CREATE STUDENT (âœ… FIXED) -->
    <div id="createStudent" class="card hidden">
      <h3>Student Management</h3>

      <div class="form-box">
        <label>Choose Action:</label>
        <select id="actionType" onchange="handleActionChange()">
          <option value="">-- Select --</option>
          <option value="select">Browse Students</option>
          <option value="create">Create New Student</option>
        </select>
      </div>

      <!-- BROWSE STUDENTS -->
      <div id="selectStudentSection" style="display:none;">
        <button onclick="openStudentDialog()">Browse Students</button>
      </div>

      <!-- CREATE NEW STUDENT -->
      <div id="createNewStudentSection" style="display:none;">

  <div class="form-box">
    <label>Student ID / Register No</label>
    <input id="newStudentId" placeholder="e.g. 23CS001">
  </div>

  <div class="form-box">
    <label>Student Name</label>
    <input id="newStudentName" placeholder="Student Name">
  </div>

  <div class="form-box">
    <label>Email</label>
    <input id="newStudentEmail" type="email" placeholder="student@email.com">
  </div>
<div class="form-box">
  <label>Parent Phone</label>
  <input
    id="newParentPhone"
    placeholder="Parent Phone Number"
  >
</div>

  <div class="form-box">
    <label>Phone</label>
    <input id="newStudentPhone" placeholder="Phone Number">
  </div>

  <button onclick="createStudent()" class="primary-btn">
    Create Student
  </button>

  <p id="createStudentMsg"></p>
</div>


      <!-- SELECTED STUDENT INFO -->
      <div id="selectedStudentInfo" style="display:none;margin-top:20px;">
        <p><b id="selectedName"></b></p>
        <p>ID: <span id="selectedId"></span></p>
        <p>Email: <span id="selectedEmail"></span></p>
        <p>Phone: <span id="selectedPhone"></span></p>
      </div>

      <!-- PASSWORD -->
      <div id="passwordSectionSelect" style="display:none;margin-top:20px;">
        <input id="cs_passwordSelect" type="password" placeholder="Set Password">
        <button onclick="setPasswordForStudent()">Set Password</button>
      </div>
    </div>

    <!-- STUDENT MODAL -->
    <div id="studentModal"
         style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.4);
                justify-content:center;align-items:center;">
      <div style="background:#fff;padding:20px;border-radius:8px;width:400px;">
        <h3>Select Student</h3>
        <div id="studentListContainer"></div>
        <button onclick="closeStudentDialog()">Close</button>
      </div>
    </div>

    <!-- UPLOAD STUDENTS -->
    <div id="uploadStudents" class="card hidden">
      <iframe src="upload-students.html"
              style="width:100%;height:600px;border:none;"></iframe>
    </div>

    <!-- MY STUDENTS -->
    <div id="students" class="card hidden">
      <h3>My Students</h3>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Register No / Student ID</th>
            <th>Details</th>
          </tr>
        </thead>
        <tbody id="studentList"></tbody>
      </table>
    </div>

    <!-- PROFILE -->
    <div id="profileCard" class="card hidden profile-page">
      <iframe src="../common/profile.html" class="profile-iframe"></iframe>
    </div>

  </div>
</div>

<script type="module" src="mentor.js"></script>
</body>
</html>
